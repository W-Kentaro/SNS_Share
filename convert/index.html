<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no">
  <meta name="robots" content="ALL">
  <!-- noindex,nofollow --><!--[if IE]>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
  <title>SNS Share Generator</title>
  <meta name="description" content="Twitter,Facebook,Line„ÅÆ„Ç∑„Çß„Ç¢Êñá„Çí‰ΩúÊàê„Åó„Åæ„Åô">
  <meta property="og:site_name" content="SNS Share Generator">
  <meta property="og:title" content="SNS Share Generator">
  <meta property="og:description" content="Twitter,Facebook,Line„ÅÆ„Ç∑„Çß„Ç¢Êñá„Çí‰ΩúÊàê„Åó„Åæ„Åô">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://github.com/W-Kentaro/SNS_Share/convert/">
  <meta name="twitter:app:country" content="JP">
  <meta name="twitter:title" content="SNS Share Generator">
  <meta name="twitter:description" content="Twitter,Facebook,Line„ÅÆ„Ç∑„Çß„Ç¢Êñá„Çí‰ΩúÊàê„Åó„Åæ„Åô">
  <meta name="twitter:url" content="https://github.com/W-Kentaro/SNS_Share/convert/">
  <meta name="apple-mobile-web-app-capable" content="no">
  <meta name="mobile-web-app-capable" content="no">

  <link rel="stylesheet" href="./main.css">

  <script src="//cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
  <script async defer src="//buttons.github.io/buttons.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/bootstrap-material-design@4.1.1/dist/css/bootstrap-material-design.min.css" integrity="sha384-wXznGJNEXNG1NFsbm0ugrLFMQPWswR3lds2VeinahP8N0zJw9VWSopbjv2x7WCvX" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans+JP|Ubuntu|Source+Sans+Pro&display=swap" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/popper.js@1.12.6/dist/umd/popper.js" integrity="sha384-fA23ZRQ3G/J53mElWqVJEGJzU0sTs+SvzG8fXVWP+kJQ1lwFAOkcUOysnlKJC33U" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/bootstrap-material-design@4.1.1/dist/js/bootstrap-material-design.js" integrity="sha384-CauSuKpEqAFajSpkdjv3z9t8E7RlpJ1UP0lKM/+NdtSarroVKu069AlsRPKkFBz9" crossorigin="anonymous"></script>
  <script>$(document).ready(function () {
    $('body').bootstrapMaterialDesign();
  });</script>
</head>
<body>

<a href="https://github.com/W-Kentaro/SNS_Share" class="github-corner" aria-label="View source on GitHub" target="_blank" rel="noopener noreferrer">
  <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#000; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
    <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
    <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
  </svg>
</a>
<style>.github-corner:hover .octo-arm{
  animation: octocat-wave 560ms ease-in-out
}

@keyframes octocat-wave{
  0%, 100%{
    transform: rotate(0)
  }
  20%, 60%{
    transform: rotate(-25deg)
  }
  40%, 80%{
    transform: rotate(10deg)
  }
}

@media (max-width: 500px){
  .github-corner:hover .octo-arm{
    animation: none
  }

  .github-corner .octo-arm{
    animation: octocat-wave 560ms ease-in-out
  }
}</style>
<div class="l-wrap ">
  <div class="l-wrap__container container-fluid">

    <h1>SNS Share Generator</h1>
    <p>CREATE SNS share URL (Twitter Facebook LINE)</p>

    <ul class="github-list">
      <li>
        <a class="github-button" href="https://github.com/W-Kentaro" aria-label="Follow @W-Kentaro on GitHub">Follow @W-Kentaro</a>
      </li>
      <li>
        <a class="github-button" href="https://github.com/W-Kentaro/SNS_Share" data-icon="octicon-star" aria-label="Star W-Kentaro/SNS Share on GitHub">Star</a>
      </li>
      <li>
        <a class="github-button" href="https://github.com/W-Kentaro/SNS Share/fork" data-icon="octicon-repo-forked" aria-label="Fork W-Kentaro/SNS Share on GitHub">Fork</a>
      </li>
    </ul>

    <hr>
    <div class="p-form" id="app">
      <div class="p-form__input">

        <div class="p-form__block">
          <h3>GENERAL</h3>
          <ul>
            <li class="form-group">
              <label class="bmd-label-floating" for="url">Share URL</label>
              <input @focus="formClear('url')" v-model.trim="text.url" type="text" id="url" class="form-control">
            </li>
            <li class="form-group">
              <label class="bmd-label-floating" for="text">Share Text</label>
              <textarea @focus="formClear('text')" v-model="text.text" id="text" class="form-control" rows="4"></textarea>
            </li>
            <li class="form-group">
              <label class="bmd-label-floating">Share Hash</label>
              <input @focus="formClear('hash')" v-model.trim="text.hash" class="form-control" type="text">
            </li>
          </ul>
        </div>
        <div class="p-form__block">
          <h3>Twitter<span class="switch">
            <label>
              <input type="checkbox" @focus="formClear()" v-model="TwitterTextMode">
              Text Mode
            </label>
          </span>
          </h3>
          <ul>
            <li class="form-group">
              <label class="bmd-label-floating">Twitter Share Via Account</label>
              <input @focus="formClear()" v-model.trim="text.twitter.via" class="form-control" type="text">
            </li>
            <li class="form-group">
              <label class="bmd-label-floating">Twitter Share Related Account</label>
              <input @focus="formClear()" v-model.trim="text.twitter.related" class="form-control" type="text">
            </li>
          </ul>
        </div>
        <div class="p-form__block">
          <h3>Facebook</h3>
          <p>No plus Option</p>
        </div>
        <div class="p-form__block">
          <h3>LINE</h3>
          <p>No plus Option</p>
        </div>
      </div>

      <div class="p-form__output">

        <div class="p-sample">

          <div class="p-sample__block">
            <h3>Twitter</h3>
            <hr>
            <div>

              <p class="p-sample__text text-count">
                <span class="p-sample__text-text" v-html="$options.filters.nl2br(text.text)"></span>
                <span class="p-sample__text-url" v-show="!TwitterTextMode"> {{text.url}}</span>
                <span class="p-sample__text-hash" v-show="text.hash && text.hash !== ''"> #{{text.hash|hash}}</span>
                <span class="p-sample__text-via" v-show="text.twitter.via && text.twitter.via !== ''"> @{{text.twitter.via}}„Åï„Çì„Åã„Çâ</span>
              </p>
              <hr>
              <p class="p-sample__url">
                <a href="" data-share="twitter" target="_blank" rel="noopener noreferrer">{{url.twitter}}</a>
              </p>
              <button class="clip-btn btn btn-raised btn-primary" :data-clipboard-text="url.twitter">
                Copy
              </button>
            </div>
          </div>
          <div class="p-sample__block">
            <h3>facebook</h3>
            <hr>
            <div>
              <p class="p-sample__url">
                <a href="" data-share="facebook" target="_blank" rel="noopener noreferrer">{{url.facebook}}</a>
              </p>
              <button class="clip-btn btn btn-raised btn-primary" :data-clipboard-text="url.facebook">
                Copy
              </button>
            </div>
          </div>
          <div class="p-sample__block">
            <h3>LINE</h3>
            <hr>
            <div>
              <p class="p-sample__url">
                <a href="" data-share="line" target="_blank" rel="noopener noreferrer">{{url.line}}</a>
              </p>
              <button class="clip-btn btn btn-raised btn-primary" :data-clipboard-text="url.line">
                Copy
              </button>
            </div>
          </div>
          <div class="p-sample__block">
            <h3>SNS Share Instance</h3>
            <pre>  const Share = new sns_share(<span>{{text | JSONStringify}}</span>);</pre>
          </div>

        </div>

      </div>

    </div>

  </div>
</div>

<script src="../dist/sns_share.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>

<script>
  new ClipboardJS('.clip-btn');

  const Share = new sns_share();

  const app = new Vue({
      el: '#app',
      data: {
        TwitterTextMode: false,
        backup: {
          TwitterUrl: undefined
        },
        formClearInit: {
          url: false,
          text: false,
          hash: false,
        },
        text: {
          url: 'https://github.com/W-Kentaro/SNS_Share',
          text: 'share text is Here:D\ntext prop use only twitterüòÇ',
          hash: 'hash1,hash2,hash3',
          twitter: {
            url: undefined,
            via: undefined,
            related: undefined,
          },
          facebook: {},
          line: {},
        },
        url: {
          twitter: Share.URL.twitter,
          facebook: Share.URL.facebook,
          line: Share.URL.line
        }
      },
      watch: {
        TwitterTextMode: function (val, oldVal) {
          if(val){
            this.backup.TwitterUrl = this.text.twitter.url === null ? this.backup.TwitterUrl : this.text.twitter.url;
            this.text.twitter.url = null;
          }else{
            this.text.twitter.url = this.backup.TwitterUrl;
          }
          this.shareUpdate(this.text);
        },
        twitterUrl(val, oldVal) {
          this.text.twitter.url = val !== '' ? val : undefined;
        },
        twitterVia(val, oldVal) {
          this.text.twitter.via = val !== '' ? val : undefined;
        },
        twitterRelate(val, oldVal) {
          this.text.twitter.related = val !== '' ? val : undefined;
        },
        text: {
          handler: function (val, oldVal) {
            this.shareUpdate(val);
          },
          deep: true
        },
      },
      computed: {
        twitterUrl() {
          return this.text.twitter.url;
        },
        twitterVia() {
          return this.text.twitter.via;
        },
        twitterRelate() {
          return this.text.twitter.related;
        },
      },
      created: function () {
        this.shareUpdate(this.text);
      },
      filters: {
        nl2br: function (str) {
          return str.replace(/\r\n/g, '<br>').replace(/(\n|\r)/g, '<br>');
        },
        hash: function (str) {
          if(str){
            return str.replace(/,/g, ' #');
          }
        },
        JSONStringify: function (obj) {
          return JSON.stringify(obj, null, 2).replace(/\'/g, '\\\'').replace(/\"/g, '\'');
        }
      },
      methods: {
        formClear: function (type) {
          switch(type){
            case 'url':
              if(!this.formClearInit.url){
                this.text.url = '';
                this.formClearInit.url = true;
              }
              break;
            case 'text':
              if(!this.formClearInit.text){
                this.text.text = '';
                this.formClearInit.text = true;
              }
              break;
            case 'hash':
              if(!this.formClearInit.hash){
                this.text.hash = '';
                this.formClearInit.hash = true;
              }
              break;
          }
        },
        shareUpdate(obj) {
          console.log(obj);
          Share.update(obj);
          Share.init();
          this.url = {
            twitter: Share.URL.twitter,
            facebook: Share.URL.facebook,
            line: Share.URL.line
          };
        }
      }
    })
  ;
</script>
<!--<script src="https://cdn.jsdelivr.net/npm/vue"></script>-->
<script src="./main.js"></script>
</body>
</html>
