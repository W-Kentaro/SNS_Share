"use strict";var _createClass=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/*!
* Copyright (c) 2018 W-Kentaro
* Released under the MIT license
* https://opensource.org/licenses/mit-license.php
*/var ShareTextEmbedded=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,e),this.GetOG={url:"",description:"",get:function(){for(var t=0;t<document.head.children.length;t++)"og:url"===document.head.children[t].getAttribute("property")&&(this.url=document.head.children[t].getAttribute("content")),"og:description"===document.head.children[t].getAttribute("property")&&(this.description=document.head.children[t].getAttribute("content"))}},this.GetOG.get(),this.isInit=t.init||!1,this.url=t.url?encodeURIComponent(t.url):encodeURIComponent(this.GetOG.url),this.text=t.text?encodeURIComponent(t.text):encodeURIComponent(this.GetOG.description),this.twitter=t.twitter||!1,this.twitter="disable"!==this.twitter&&{elem:this.twitter.elem||'[data-share="twitter"]',url:this.twitter.url?encodeURIComponent(this.twitter.url):this.url,text:null===this.twitter.text?null:this.twitter.text?encodeURIComponent(this.twitter.text):this.text,hash:!!this.twitter.hash&&encodeURIComponent(this.twitter.hash),via:!!this.twitter.via&&encodeURIComponent(this.twitter.via),related:!!this.twitter.related&&encodeURIComponent(this.twitter.related)},this.facebook=t.facebook||!1,this.facebook="disable"!==this.facebook&&{elem:this.facebook.elem||'[data-share="facebook"]',url:this.facebook.url?encodeURIComponent(this.facebook.url):this.url,text:this.facebook.text?encodeURIComponent(this.facebook.text):this.text},this.line=t.line||!1,this.line="disable"!==this.line&&{elem:this.line.elem||'[data-share="line"]',url:null===this.line.url?null:this.line.url?encodeURIComponent(this.line.url):this.url,text:this.line.text?encodeURIComponent(this.line.text):this.text},this.URL={twitter:"http://twitter.com/share?url="+this.twitter.url+(null===this.twitter.text?"":"&text="+this.twitter.text)+(this.twitter.hash?"&hashtags="+this.twitter.hash:"")+(this.twitter.via?"&via="+this.twitter.via:"")+(this.twitter.related?"&related="+this.twitter.related:""),facebook:"http://www.facebook.com/sharer.php?u="+this.facebook.url+"&t="+this.facebook.text,line:"http://line.me/R/msg/text/?"+this.line.text+(null===this.line.url?"":"%20"+this.line.url)},this.isInit||this.init()}return _createClass(e,[{key:"push",value:function(){this.twitter&&this.embed(this.twitter.elem,"twitter"),this.facebook&&this.embed(this.facebook.elem,"facebook"),this.line&&this.embed(this.line.elem,"line")}},{key:"embed",value:function(t,e){for(var i=document.querySelectorAll(t),r=0;r<i.length;r++)"twitter"===e&&i[r].setAttribute("href",this.URL.twitter),"facebook"===e&&i[r].setAttribute("href",this.URL.facebook),"line"===e&&i[r].setAttribute("href",this.URL.line)}},{key:"init",value:function(){this.push()}},{key:"update",value:function(t){var e={url:this.url,text:this.text,twitter:this.twitter,facebook:this.facebook,line:this.line};this.url=t.url||e.url,this.text=t.text||e.text,this.twitter=t.twitter||e.twitter,this.twitter={elem:this.twitter.elem||e.twitter.elem,url:this.twitter.url?encodeURIComponent(this.twitter.url):e.twitter.url,text:null===this.twitter.text?null:this.twitter.text?encodeURIComponent(this.twitter.text):e.twitter.text,hash:this.twitter.hash?encodeURIComponent(this.twitter.hash):e.twitter.hash,via:this.twitter.via?encodeURIComponent(this.twitter.via):e.twitter.via,related:this.twitter.related?encodeURIComponent(this.twitter.related):e.twitter.related},this.facebook=t.facebook||e.facebook,this.facebook={elem:this.facebook.elem||e.facebook.elem,url:this.facebook.url?encodeURIComponent(this.facebook.url):e.facebook.url,text:this.facebook.text?encodeURIComponent(this.facebook.text):e.facebook.text},this.line=t.line||e.line,this.line={elem:this.line.elem||e.line.elem,url:null===this.line.url?null:this.line.url?encodeURIComponent(this.line.url):e.line.url,text:this.line.text?encodeURIComponent(this.line.text):e.line.text},this.URL={twitter:"http://twitter.com/share?url="+this.twitter.url+(null===this.twitter.text?"":"&text="+this.twitter.text)+(this.twitter.hash?"&hashtags="+this.twitter.hash:"")+(this.twitter.via?"&via="+this.twitter.via:"")+(this.twitter.related?"&related="+this.twitter.related:""),facebook:"http://www.facebook.com/sharer.php?u="+this.facebook.url+"&t="+this.facebook.text,line:"http://line.me/R/msg/text/?"+this.line.text+(null===this.line.url?"":"%20"+this.line.url)}}}]),e}();