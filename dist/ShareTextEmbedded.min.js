"use strict";var _createClass=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/*!
* Copyright (c) 2018 W-Kentaro
* Released under the MIT license
* https://opensource.org/licenses/mit-license.php
*/
var ShareTextEmbedded=function(){function e(t){_classCallCheck(this,e),this.GetOG={url:"",description:"",Get:function(){for(var t=0;t<document.head.children.length;t++)"og:url"===document.head.children[t].getAttribute("property")&&(this.url=document.head.children[t].getAttribute("content")),"og:description"===document.head.children[t].getAttribute("property")&&(this.description=document.head.children[t].getAttribute("content"))}},this.GetOG.Get(),this.init=t.init||!1,this.url=t.url||this.GetOG.url,this.text=t.text||this.GetOG.description,this.twitter={elem:t.twitter.elem||'[data-share="twitter"]',url:t.twitter.url||this.url,text:t.twitter.text||this.text,hash:t.twitter.hash||!1,via:t.twitter.via||!1,related:t.twitter.related||!1},this.facebook={elem:t.facebook.elem||'[data-share="facebook"]',url:t.facebook.url||this.url,text:t.facebook.text||this.text},this.line={elem:t.line.elem||'[data-share="line"]',url:t.line.url||this.url,text:t.line.text||this.text,onlyText:t.line.onlyText||!1},this.shareText={twitter:"",facebook:"",line:""},this.init||this.Encode()}return _createClass(e,[{key:"Encode",value:function(){this.url=encodeURIComponent(this.url),this.twitter.url=encodeURIComponent(this.twitter.url),this.twitter.text=encodeURIComponent(this.twitter.text),this.twitter.hash=this.twitter.hash?encodeURIComponent(this.twitter.hash):this.twitter.hash,this.twitter.via=this.twitter.via?encodeURIComponent(this.twitter.via):this.twitter.via,this.twitter.related=this.twitter.related?encodeURIComponent(this.twitter.related):this.twitter.related,this.facebook.url=encodeURIComponent(this.facebook.url),this.facebook.text=encodeURIComponent(this.facebook.text),this.line.url=encodeURIComponent(this.line.url),this.line.text=encodeURIComponent(this.line.text),this.Push()}},{key:"Push",value:function(){this.shareText={twitter:"http://twitter.com/share?url="+this.twitter.url+"&text="+this.twitter.text+(this.twitter.hash?"&hashtags="+this.twitter.hash:"")+(this.twitter.via?"&via="+this.twitter.via:"")+(this.twitter.related?"&related="+this.twitter.related:""),facebook:"http://www.facebook.com/sharer.php?u="+this.facebook.url+"&t="+this.facebook.text,line:"http://line.me/R/msg/text/?"+this.line.text+(this.line.onlyText?"":"%20"+this.line.url)},this.Embed(this.twitter.elem,"twitter"),this.Embed(this.facebook.elem,"facebook"),this.Embed(this.line.elem,"line")}},{key:"Embed",value:function(t,e){for(var i=document.querySelectorAll(t),r=0;r<i.length;r++)"twitter"===e&&i[r].setAttribute("href",this.shareText.twitter),"facebook"===e&&i[r].setAttribute("href",this.shareText.facebook),"line"===e&&i[r].setAttribute("href",this.shareText.line)}},{key:"Init",value:function(){this.Encode()}}]),e}();
